<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./styles.css" />
    <title>Series Details</title>
  </head>
  <body>
    <section class="hero-banner"></section>
    <section class="heroes"></section>

    <script>
      const id = window.location.search.split("?id=")[1];
      const publicKey = "8295e16cec97db77f54e2367b9d40465";
      const heroes = document.querySelector(".heroes");
      const ts = 1;
      const hash = "691ae2d73667f8befdac53ec0cc28af3";
      //const heroes = JSON.parse(window.localStorage.getItem("heroes"));
      //console.log(id);
      //console.log(heroes);
      const heroesDiv = document.querySelector(".heroes");
      //const hero = heroes.forEach((hero) => {
      //  hero.id === id;
      //});
      //heroesDiv.innerHTML=`${serie.}`
      fetch(
        `http://gateway.marvel.com/v1/public/series/${id}?ts=${ts}&apikey=${publicKey}&hash=${hash}`
      )
        .then((res) => res.json())
        .then((result) => result.data.results[0])
        .then((data) => {
          const { title, description, endYear } = data;
          const div = document.createElement("div");
          div.innerHTML = `
					<h1>${title}</h1>
					<p>${description}</p>
					<b>${endYear}</b>`;

          heroesDiv.appendChild(div);
        });
    </script>
  </body>
</html>
